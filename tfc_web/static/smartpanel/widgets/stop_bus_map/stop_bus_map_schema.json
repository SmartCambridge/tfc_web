{

    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "http://smartcambridge.org/schemas/widgets/stop_busmap.json",
    "$comment": "",
    "description": "Parameters for the ACP bus stop map widget",
    "title": "Bus stop map",

    "type": "object",
    "required": ["title", "breadcrumbs", "lat", "lng", "zoom", "stops"],
    "properties": {
        "title": {
            "type": "string",
            "title": "Map title",
            "description": "Used as the title of the map display",
            "min": 1.0
        },
        "breadcrumbs": {
            "type": "integer",
            "enum": [0,1],
            "title": "Breadcrumbs",
            "description": "1 for breadcrumbs, 0 otherwise"
        },
        "lat": {
            "type": "number",
                "title": "Latitude",
                "description": "Latitude of the centre of the map",
                "minimum": -90.0,
                "maximum": 90.0
        },
        "lng": {
            "type": "number",
            "title": "Longitude",
            "description": "Longitude of the centre of the map",
            "minimum": -180,
            "maximum": 180
        },
        "zoom": {
            "type": "integer",
            "title": "Map zoom",
            "description": "Map zoom level",
            "minimum": 0,
            "maximum": 21
        },
        "stops": {
            "type": "array",
            "title": "Stops",
            "minItems": 1,
            "items": {
                "type": "object",
                "required": ["stop_id", "common_name", "lat", "lng"],
                "properties": {
                    "stop_id": {
                        "type": "string",
                        "title": "Bus stop ID",
                        "description": "NaPTAN AtcoCodes of stops to mark"
                    },
                    "common_name": {
                        "type": "string",
                        "title": "Bus stop label",
                        "description": "Label for stop"
                    },
                    "lat": {
                        "type": "number",
                        "title": "Latitude",
                        "description": "Latitude of the centre of the map",
                        "minimum": -90.0,
                        "maximum": 90.0
                    },
                    "lng": {
                        "type": "number",
                        "title": "Longitude",
                        "description": "Longitude of the centre of the map",
                        "minimum": -180,
                        "maximum": 180
                    }
                }
            }
        }
    }
}
